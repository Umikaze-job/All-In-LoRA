import{D as C}from"./Dropable_Image02-ec89c5f5.js";import{d as S,A as D,g as y,_ as $,r as u,o as r,c as h,k as p,j as w,K as B,h as c,t as _,e as v,F as b,i as I}from"./index-09c46877.js";import{m as P}from"./mini-Button01-fadaf757.js";import{m as N}from"./mini-Button02-28aa58d0.js";import{I as A}from"./Image_window01-109ac729.js";import{I as F,T as E}from"./ImageItemComp-5cb7bdd1.js";/* empty css                       */const T=S({setup(e,t){const{selecting_id:m,isMultipleSelect:l,selectingImageDataSet:g,ImageWindowPreview:i,ImageWindowThumbnailPreview:a,PreviewImageSelectLeft:s,PreviewImageSelectRight:d}=F();return{selecting_id:m,isMultipleSelect:l,selectingImageDataSet:g,ImageWindowPreview:i,ImageWindowThumbnailPreview:a,PreviewImageSelectLeft:s,PreviewImageSelectRight:d}},components:{"image-item":C,"mini-button":P,"mini-button02":N,"image-window":A},created(){this.getImageList()},data(){return{store:D(),checkedData:E(),isPreview:!1}},unmounted(){this.store.setImageEditFiles(this.selectingImageDataSet)},methods:{async getImageList(){const e=await this.axios.post(y()+"/api/processing-images/input-images",{folderName:this.store.getSelectingFolderName.id});e.data.error==null?(this.selectingImageDataSet=[],e.data.data_paths.forEach((t,m)=>{const l=this.store.getImageEditFiles.find(a=>a.image_url==t),g=e.data.thumbnail_path[m],i=e.data.displayed_name[m];l==null?this.selectingImageDataSet.push({image_url:t,thumbnail_path:g,file_name:i,tags:[]}):this.selectingImageDataSet.push({image_url:t,thumbnail_path:g,file_name:i,tags:l.tags})})):this.store.setErrorMessage(e.data.error)},clickImageItem(e){this.isMultipleSelect?this.selecting_id.includes(e)?this.selecting_id=this.selecting_id.filter(t=>t!=e):this.selecting_id[0]==-1&&this.selecting_id.length==1?this.selecting_id=[e]:this.selecting_id.push(e):(this.selecting_id=[e],this.selecting_id.forEach((t,m)=>{let l=this.selectingImageDataSet[t].tags;this.checkedData.map(i=>i.id).forEach((i,a)=>{this.checkedData[a].checked=l.some(s=>s.tagname==i)})}))},changeCheck(e,t,m){t=m,this.selecting_id.forEach((l,g)=>{let i=this.selectingImageDataSet[l].tags;const a=this.checkedData[e];t?i.find(s=>s.tagname==a.id)==null&&i.push({tagname:a.id,tagcolor:a.color}):i=i.filter(s=>s.tagname!==a.id),i.sort((s,d)=>{const f=this.checkedData.findIndex(o=>o.id==s.tagname),n=this.checkedData.findIndex(o=>o.id==d.tagname);return f-n}),this.selectingImageDataSet[l].tags=i}),this.store.setImageEditFiles(this.selectingImageDataSet)},clickAllItems(){this.selecting_id=Array.from({length:this.selectingImageDataSet.length},(e,t)=>t),this.checkedData.map(e=>e.checked=!1)}}}),x={class:"text-white font-Raleway flex flex-row gap-2"},L={class:"2xl:basis-1/5 xl:basis-1/4 lg:basis-1/3 md:basis-1/2 border-winBorder border-white rounded-lg min-h-[100px] flex flex-col gap-4 p-3"},M={class:"text-lg w-full text-center"},R={key:0,class:"mt-3 w-[80%] mx-auto flex flex-col gap-2"},W={class:"text-center"},V={class:"flex flex-row h-10"},j=["onClick"],H=c("div",{class:"bg-white grow-0 w-[2px]"},null,-1),K=["onClick"],O={id:"contentstyle01",class:"grow border-winBorder border-white rounded-lg min-h-[100px] overflow-y-auto grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2 gap-2 p-3"};function q(e,t,m,l,g,i){const a=u("image-window"),s=u("mini-button"),d=u("mini-button02"),f=u("image-item");return r(),h(b,null,[(r(),p(B,null,[e.isPreview?(r(),p(a,{key:0,onClickLeft:e.PreviewImageSelectLeft,onClickRight:e.PreviewImageSelectRight,onImageWindowCancel:t[0]||(t[0]=n=>e.isPreview=!1),imgsrc:e.ImageWindowPreview,"thumbnail-src":e.ImageWindowThumbnailPreview},null,8,["onClickLeft","onClickRight","imgsrc","thumbnail-src"])):w("",!0)],1024)),c("div",x,[c("div",L,[c("p",M,_(e.$t("CharacterTrimming.SettingsFor")),1),v(s,{"button-name":e.$t("CharacterTrimming.miniButton.AllSelect"),"add-class":"w-[80%] mx-auto text-center",onClickItem:e.clickAllItems},null,8,["button-name","onClickItem"]),v(d,{"is-clicked":e.isMultipleSelect,onClickItem:t[1]||(t[1]=n=>e.isMultipleSelect=!e.isMultipleSelect),"button-name":e.$t("CharacterTrimming.miniButton.MultipleSelect"),"add-class":"w-[80%] mx-auto text-center"},null,8,["is-clicked","button-name"]),e.selecting_id[0]!=-1&&e.selecting_id.length!=0?(r(),h("div",R,[(r(!0),h(b,null,I(e.checkedData,(n,o)=>(r(),h("div",{key:o,class:"flex flex-col justify-start gap-2"},[c("p",W,_(e.$t(n.localName)),1),c("div",V,[c("button",{onClick:k=>e.changeCheck(o,n.checked,!0),class:"bg-NormalButtonColor flex-1 rounded-l-lg border-y-2 border-l-2 border-white hover:bg-ApplyHoverColor active:bg-ApplyActiveColor hover:transition-colors active:transition-none"},"ON",8,j),H,c("button",{onClick:k=>e.changeCheck(o,n.checked,!1),class:"bg-NormalButtonColor flex-1 rounded-r-lg border-y-2 border-r-2 border-white hover:bg-NormalButtonHover active:bg-NormalButtonActive hover:transition-colors active:transition-none"},"OFF",8,K)])]))),128))])):w("",!0),e.selecting_id[0]!=-1&&e.selecting_id.length!=0?(r(),p(s,{key:1,"button-name":e.$t("CharacterTrimming.Priview"),"add-class":"w-[80%] mx-auto text-center",onClickItem:t[2]||(t[2]=n=>e.isPreview=!0)},null,8,["button-name"])):w("",!0)]),c("div",O,[(r(!0),h(b,null,I(e.selectingImageDataSet,(n,o)=>(r(),p(f,{key:o,"tag-data":n.tags,"image-path":n.thumbnail_path,id:o,"selected-id":e.selecting_id,onClick:k=>e.clickImageItem(o),"file-name":n.file_name},null,8,["tag-data","image-path","id","selected-id","onClick","file-name"]))),128))])])],64)}const Z=$(T,[["render",q]]);export{Z as default};
