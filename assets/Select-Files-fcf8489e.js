import{I as u}from"./Dropable_Image02-ec3043a6.js";import{d as k,A as I,_ as C,r as f,o as n,g as r,e as m,f as b,F as p,i as _,h as x,m as y,q as v,t as w,c as B}from"./index-b77c9346.js";import{m as D}from"./mini-Button01-afe0a576.js";const F=k({components:{"image-item":u,"mini-button":D},created(){this.getImageList()},data(){return{Image_files:[],store:I(),selectId:[-1],checkedData:[{name:"Character Trimming",checked:!1,id:"Character",color:"bg-TagColor01"},{name:"Face Trimming",checked:!1,id:"Face",color:"bg-TagColor01"},{name:"Body Trimming",checked:!1,id:"Body",color:"bg-TagColor01"},{name:"Resize",checked:!1,id:"Resize",color:"bg-TagColor02"}]}},unmounted(){this.store.setImage_files(this.Image_files)},methods:{async getImageList(){this.axios.post("http://localhost:8000/api/processing-images/input-images",{folderName:this.store.getSelectingFolderName}).then(e=>{this.Image_files=[],e.data.data_paths.forEach((a,d)=>{const c=this.store.getImage_files.find(t=>t.image_path==a);c==null?this.Image_files.push({image_path:a,tagdata:[]}):this.Image_files.push({image_path:a,tagdata:c.tagdata})})}).finally(()=>{})},clickImageItem(e){this.selectId=[e],this.selectId.forEach((a,d)=>{let c=this.Image_files[a].tagdata;["Character","Face","Body","Resize"].forEach((o,i)=>{this.checkedData[i].checked=c.some(h=>h.tagname==o)})})},changeCheck(e,a){this.selectId.forEach((d,c)=>{let t=this.Image_files[d].tagdata;const o=this.checkedData[e];a?t.find(i=>i.tagname==o.id)==null&&t.push({tagname:o.id,tagcolor:o.color}):t=t.filter(i=>i.tagname!==o.id),this.Image_files[d].tagdata=t})},clickAllItems(){this.selectId=Array.from({length:this.Image_files.length},(e,a)=>a),this.checkedData.forEach((e,a)=>{e.checked=!1})}}}),S={class:"text-white font-Raleway flex flex-row gap-2"},T={class:"basis-1/4 border-2 border-white rounded-lg min-h-[100px] flex flex-col gap-4"},A=m("p",{class:"text-lg w-full text-center pt-3"},"Settings for each file",-1),E={key:0,class:"mt-3 w-[60%] mx-auto"},$=["onUpdate:modelValue","onChange"],N={for:"scales",class:"my-auto"},V={class:"basis-3/4 border-2 border-white rounded-lg min-h-[100px] max-h-[700px] overflow-y-auto grid grid-cols-4 gap-2 p-3"};function L(e,a,d,c,t,o){const i=f("mini-button"),h=f("image-item");return n(),r("div",S,[m("div",T,[A,b(i,{"button-name":"Select All File","add-class":"w-[80%] mx-auto text-center",onClick:e.clickAllItems},null,8,["onClick"]),e.selectId[0]!=-1?(n(),r("div",E,[(n(!0),r(p,null,_(e.checkedData,(s,l)=>(n(),r("div",{key:l,class:"flex flex-row justify-between"},[y(m("input",{type:"checkbox",name:"scales",class:"rounded-sm my-auto","onUpdate:modelValue":g=>s.checked=g,onChange:g=>e.changeCheck(l,s.checked)},null,40,$),[[v,s.checked]]),m("label",N,w(s.name),1)]))),128))])):x("",!0)]),m("div",V,[(n(!0),r(p,null,_(e.Image_files,(s,l)=>(n(),B(h,{key:l,"tag-data":s.tagdata,"image-path":s.image_path,id:l,"selected-id":e.selectId,onClick:g=>e.clickImageItem(l),"folder-name":s.image_path.split("\\").slice(-1)[0]},null,8,["tag-data","image-path","id","selected-id","onClick","folder-name"]))),128))])])}const j=C(F,[["render",L]]);export{j as default};
