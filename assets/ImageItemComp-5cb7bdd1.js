import{C as u,D as d,g as v,A as T}from"./index-09c46877.js";const t={readyTag:{name:"ReadyforTagging",color:"bg-TagColor02"},deleteTag:{name:"DeleteTagData",color:"bg-TagColor01"},alreadyTag:{name:"alreadytagged",color:"bg-TagColor03"},captionAlready:{name:"captioncompleted",color:"bg-TagColor04"}};function k(a){a.sort(function(c,n){const i=[t.alreadyTag.name,t.captionAlready.name,t.readyTag.name,t.deleteTag.name],m=i.indexOf(c.tagname),o=i.indexOf(n.tagname);return m<o?-1:m>o?1:0})}function F(){return[{name:"Character Trimming",checked:!1,id:"Character",color:"bg-TagColor01",localName:"CharacterTrimming.setting.CharactersTrimming"},{name:"Face Trimming",checked:!1,id:"Face",color:"bg-TagColor01",localName:"CharacterTrimming.setting.FaceTrimming"},{name:"Body Trimming",checked:!1,id:"Body",color:"bg-TagColor01",localName:"CharacterTrimming.setting.BodyTrimming"},{name:"Resize",checked:!1,id:"Resize",color:"bg-TagColor02",localName:"CharacterTrimming.setting.Resize"}]}function N(){const a=u([-1]),c=u(!1),n=u({base:[],after:[]}),i=u(0),m=function(e){c.value?a.value[0]==-1?a.value=[e]:a.value.includes(e)?a.value=a.value.filter(l=>l!=e):a.value.push(e):a.value=[e]},o=d({get:()=>i.value==0?n.value.base:n.value.after,set:e=>{i.value==0?n.value.base=e:n.value.after=e}}),p=d(()=>a.value[0]==-1||a.value.length==0?[]:i.value==0?a.value.map(e=>n.value.base[e]):a.value.map(e=>n.value.after[e])),h=function(e){return e.split("\\").slice(-1)[0]},y=function(){a.value=Array.from({length:o.value.length},(e,l)=>l)},I=d(()=>a.value[0]!=-1&&a.value.length!=0?o.value.filter((l,g)=>a.value.includes(g)).map(l=>l.image_url):[""]),C=d(()=>a.value[0]!=-1&&a.value.length!=0?o.value.filter((l,g)=>a.value.includes(g)).map(l=>l.thumbnail_path):[""]);return{selecting_id:a,isMultipleSelect:c,ImageDataSet:n,ImageFolderID:i,selectImageItemID:m,selectingImageItems:p,selectingImageDataSet:o,clickAllItems:y,ImageWindowPreview:I,ImageWindowThumbnailPreview:C,getFileNameFromUrl:h,setAlready_CaptionTag:async function(e){const l=await e.axios.post(v()+"/api/make-textfile/tagging/alreadytag",{folderName:T().getSelectingFolderName.id}),g=await e.axios.post(v()+"/api/make-textfile/captioning/captiontag",{folderName:T().getSelectingFolderName.id});n.value.base.forEach(r=>{r.tags=r.tags.filter(f=>![t.alreadyTag.name,t.captionAlready.name].includes(f.tagname));const s=r.image_url.split("\\").slice(-1)[0];l.data.base_images.includes(s)&&r.tags.push({tagname:t.alreadyTag.name,tagcolor:t.alreadyTag.color}),g.data.base_images.includes(s)&&r.tags.push({tagname:t.captionAlready.name,tagcolor:t.captionAlready.color})}),n.value.after.forEach(r=>{r.tags=r.tags.filter(f=>f.tagname!=t.alreadyTag.name);const s=r.image_url.split("\\").slice(-1)[0];l.data.after_images.includes(s)&&r.tags.push({tagname:t.alreadyTag.name,tagcolor:t.alreadyTag.color}),g.data.after_images.includes(s)&&r.tags.push({tagname:t.captionAlready.name,tagcolor:t.captionAlready.color})})},ImageFolderRowButtonClick:function(e){i.value=e,a.value=[-1]},PreviewImageSelectLeft:function(){let e=a.value[0];e=e-1,e=e%o.value.length,e<0&&(e=o.value.length-1),a.value=[e]},PreviewImageSelectRight:function(){let e=a.value[0];e=e+1,e=e%o.value.length,a.value=[e]}}}export{N as I,F as T,t as a,k as t};
