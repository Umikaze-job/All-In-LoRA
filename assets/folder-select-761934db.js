import{d as w,A as B,S as n,b as m,_ as y,r as u,o as r,c as k,w as h,a as N,e as d,f as i,g as f,F as p,h as b,i as F}from"./index-b77c9346.js";import{T as v}from"./template01-a006ca31.js";import{I as T}from"./Dropable_Image01-39b8b53f.js";import{m as x}from"./mini-Button01-afe0a576.js";import{s}from"./swal_tasks-05251fa3.js";const R=w({data(){return{store:B(),folder_set:[{foldername:"",thumbnail_path:""}],selectId:-1}},created(){this.folder_set=[]},mounted(){this.getFolderSet()},components:{"base-tem":v,Img_Comp01:T,"mini-button":x},computed:{selectingFolderName(){return String(this.folder_set[this.selectId].foldername)}},methods:{async CreateButtonClick(e){const{value:o}=await n.fire({title:"Please fill in the file name.",input:"text",icon:"info",showCancelButton:!0,inputValidator:t=>new Promise(a=>{t===""?a("The file name is not filled in."):a()})});o&&(s("Creating Folder...",1e4),this.store.setTransState(1),this.axios.post("http://localhost:8000/api/folder-select/create",{name:o}).then(t=>{n.close(),this.getFolderSet(),s(t.data.message,3e3)}).finally(()=>{this.store.setTransState(0)}))},async RenameButtonClick(e){const{value:o}=await n.fire({title:"Enter the name of the selected file to be changed.",input:"text",icon:"info",showCancelButton:!0,inputValidator:t=>new Promise(a=>{t===""?a("The file name is not filled in."):a()})});o&&(s("Renaming Folder...",1e4),this.store.setTransState(1),this.axios.post("http://localhost:8000/api/folder-select/rename",{beforeName:this.selectingFolderName,afterName:o}).then(t=>{n.close(),t.data.error!=null?(this.getFolderSet(),s(t.data.error,3e3)):(this.getFolderSet(),s("Folder Renamed!!!",3e3))}).finally(()=>{this.store.setTransState(0)}))},async ThumbnailButtonClick(e){const{value:o}=await n.fire({title:"Select image",input:"file",inputAttributes:{accept:"image/*","aria-label":"Upload your profile picture"},showCancelButton:!0});if(o){s("Renaming Folder...",1e4),this.store.setTransState(1);const t=new FormData;t.append("folderName",String(this.selectingFolderName)),t.append("image",o),this.axios.post("http://localhost:8000/api/folder-select/thumbnail",t,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{n.close(),this.getFolderSet(),s(a.data.message,3e3)}).finally(()=>{this.store.setTransState(0)})}},async DeleteButtonClick(e){const{value:o}=await n.fire({title:"Do you want to delete the folder?",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"No",confirmButtonColor:"#c74343",icon:"warning",iconColor:"#c74343"});o&&(s("Deleting Folder...",1e4),this.store.setTransState(1),this.axios.post("http://localhost:8000/api/folder-select/delete",{folderName:this.selectingFolderName}).then(t=>{n.close(),this.getFolderSet(),t.data.error==null?s(t.data.message,3e3):s(t.data.error,3e3)}).finally(()=>{this.store.setTransState(0)}))},async RevertButtonClick(e){this.store.setSelectingFolderName("")},async ApplyButtonClick(e){this.store.setSelectingFolderName(this.selectingFolderName)},startLoadingButtonAnime(e){return this.store.setTransState(1),m({targets:e,width:["0%","100%"],duration:1e3,loop:!0,easing:"linear"})},stopLoadingButtonAnime(e){this.store.setTransState(0),m.remove(e),m.set(e,{width:"0%"})},async getFolderSet(){this.axios.post("http://localhost:8000/api/folder-select/get-folders").then(e=>{this.folder_set=[];const o=e.data.directoriesName,t=e.data.thumbnail;o.forEach((a,C)=>{this.folder_set.push({foldername:a,thumbnail_path:t[C]})})})}}}),I={class:"flex flex-row text-center text-lg text-white font-Raleway"},A={class:"basis-1/4 flex flex-row justify-left"},D={class:"basis-1/2 flex flex-row justify-center"},V={class:"basis-1/4 flex flex-row justify-end"},$={class:"grid grid-cols-6 gap-4 m-3 text-white font-Raleway"};function L(e,o,t,a,C,P){const l=u("mini-button"),_=u("Img_Comp01"),S=u("base-tem");return r(),k(S,null,{maintitle:h(()=>[N("Folder Select")]),buttonContents:h(()=>[d("div",I,[d("div",A,[i(l,{onClick:e.CreateButtonClick,buttonName:"Create",addClass:""},null,8,["onClick"])]),d("div",D,[e.selectId!=-1?(r(),f(p,{key:0},[i(l,{onClick:e.RenameButtonClick,buttonName:"Rename",addClass:"ml-2"},null,8,["onClick"]),i(l,{onClick:e.ThumbnailButtonClick,buttonName:"Thumbnail",addClass:"ml-2"},null,8,["onClick"]),i(l,{onClick:e.DeleteButtonClick,"button-color-hover":"bg-DeleteColor",buttonName:"Delete",addClass:"ml-2"},null,8,["onClick"])],64)):b("",!0)]),d("div",V,[e.selectId!=-1?(r(),f(p,{key:0},[i(l,{onClick:e.RevertButtonClick,buttonName:"Revert",addClass:"ml-2"},null,8,["onClick"]),i(l,{onClick:e.ApplyButtonClick,buttonName:"Apply",addClass:"ml-2"},null,8,["onClick"])],64)):b("",!0)])])]),mainContents:h(()=>[d("div",$,[(r(!0),f(p,null,F(e.folder_set,(g,c)=>(r(),k(_,{key:c,"image-path":g.thumbnail_path,folderName:g.foldername,id:c,"selected-id":e.selectId,onClick:j=>e.selectId=c},null,8,["image-path","folderName","id","selected-id","onClick"]))),128))])]),_:1})}const J=y(R,[["render",L]]);export{J as default};
